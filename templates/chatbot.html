<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Chatbot</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <style>
        .chat-box {
    max-height: 300px;
    overflow-y: auto;
    border: 1px solid #ccc;
    padding: 10px;
    background-color: #fff;
    border-radius: 10px;
}

.chat-box p {
    padding: 8px;
    border-radius: 5px;
    display: inline-block;
    max-width: 80%;
}

.user-message {
    text-align: right;
    background-color: #2e4a68;
    color: white;
    border-radius: 10px;
    padding: 8px;
    display: inline-block;
}

.bot-message {
    text-align: left;
    background-color: #589266;
    color: white;
    border-radius: 10px;
    padding: 8px;
    display: inline-block;
}

input[type="text"] {
    width: 75%;
    padding: 8px;
    border-radius: 5px;
    border: 1px solid #ccc;
}

input[type="submit"] {
    padding: 8px 15px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row flex-nowrap">
            <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-dark sidebar" style="height:100vh;">
                <div class="position-sticky pt-3">
                    <div class="text-center mb-4">
                        <img src="https://via.placeholder.com/80" class="rounded-circle" alt="Profile">
                        <h5 class="text-white mt-2">Dhukuti</h5>
                        <p class="text-muted">Dhukuti@test.com</p>
                    </div>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="/dashboard">
                                <i class="fas fa-home me-2"></i> Dashboard
                            </a>
                        </li>
                        
                        <li class="nav-item">
                            <a class="nav-link" href="/sendmoney">
                                <i class="fas fa-paper-plane me-2"></i> Send Money
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/topup">
                                <i class="fas fa-wallet me-2"></i> Top Up
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/transaction_history">
                                <i class="fas fa-exchange-alt me-2"></i> Transactions
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/profile">
                                <i class="fas fa-user me-2"></i> Profile
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="/chatbot">
                                <i class="fas fa-robot me-2"></i> Chatbot
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/ ">
                                <i class="fas fa-sign-out-alt me-2"></i> Logout
                            </a>
                        </li>

                    </ul>
                </div>
            </nav>

    <div class="chat-container">
        <h2>Chatbot</h2>
        <div class="chat-box">
            {% if user_input %}
                <p class="user-message"><strong>You:</strong> {{ user_input }}</p>
                <p class="bot-message"><strong>Bot:</strong> {{ response }}</p>
            {% endif %}
        </div>
        
        <form method="POST">
            {% csrf_token %}
            {{ form.as_p }}
            <input type="submit" value="Send">
        </form> 
        <button style="margin-top:2rem; padding:1rem  "><a href="{url '/dashboard'}" style="text-decoration: none;">GO Back    </a></button>
    </div>
</body>
</html>